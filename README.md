# Домашнее задание к занятию «Уязвимости и атаки на информационные системы» - Хрипун Алексей

---

### Задание 1
Скачайте и установите виртуальную машину Metasploitable: (https://sourceforge.net/projects/metasploitable/).
Это типовая ОС для экспериментов в области информационной безопасности, с которой следует начать при анализе уязвимостей.
Просканируйте эту виртуальную машину, используя nmap.
Попробуйте найти уязвимости, которым подвержена эта виртуальная машина.
Сами уязвимости можно поискать на сайте (https://www.exploit-db.com/).
Для этого нужно в поиске ввести название сетевой службы, обнаруженной на атакуемой машине, и выбрать подходящие по версии уязвимости.
Ответьте на следующие вопросы:

* Какие сетевые службы в ней разрешены?
* Какие уязвимости были вами обнаружены? (список со ссылками: достаточно трёх уязвимостей)

*Приведите ответ в свободной форме.*

### Решение 1

На целевом хосте открыто много сетевых служб 
![Сетевые службы](img/task1.png)

На целевом хосте обнаружено множество уязвимостей. Вот некоторые из них:
* vsftpd 2.3.4 - Backdoor Command Execution (Metasploit). Открывает shell на порту 6200TCP (CVE-2011-2523)
* PostgreSQL 8.3 - PostgreSQL 8.2/8.3/8.4 - UDF for Command Execution
* Apache httpd 2.2.8 - Apache HTTP Server 2.4.53 и ниже может не отправить заголовки X-Forwarded* на сервер. Может быть использовано для обхода IP-based аутентификации (CVE-2022-31813)


### Задание 2

Проведите сканирование Metasploitable в режимах SYN, FIN, Xmas, UDP.

Запишите сеансы сканирования в Wireshark.

Ответьте на следующие вопросы:

* Чем отличаются эти режимы сканирования с точки зрения сетевого трафика?
* Как отвечает сервер?
*Приведите ответ в свободной форме.*


### Решение 2

При SYN-сканировании nmap отправляет на сервер пакет **SYN**, получает в ответ **SYN-ACK** и в ответ отправляет **RST**, но без **ACK**. Это делает сканирование более быстрым. Кроме того, некоторые приложения регистрируют только полностью устанолвленные соединения, и такое сканирование может не попасть в логи.

При FIN-сканировании nmap отправляет серверу пакет **FIN**, и согласно RFC 793, если порт закрыт, в ответ приходит **RST**. Если порт открыт, то ответа не будет.

При Xmas-скнировании nmap отправляет серверу пакет с установленными флагами **FIN**, **PSH** и **URG**. Как и при FIN-сканировании, если приходит в ответ **RST** - порт считается закрытым, отсутствие ответа - порт окрыт (или фильтруется). 

При сканировании UDP nmap отправляет пакеты UDP на сервер. Такое сканирование менее надежно, чем TCP (т.к. UDP протокол без соединения, nmap может не всегда получить ответ от порта, даже если тот открыт). Когда после отправки UDP-пакета нет ответа от целевого хоста, это часто означает, что порт открыт (или фильтруется). С помощью UDP сканирования можно эффективно идентифицировать закрытые порты - целевой хост ответит ICMP-пакетом, если порт недоступен. 

---


